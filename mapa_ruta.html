<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>mapa rutas</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDojih1XShuEEmyRVE8FYOGvJn37blq0ng"></script>
    <style>
      .modal {
        display: none;
        position: fixed;
        z-index: 100;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
      }
      .modal-content {
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        max-width: 400px;
        width: 100%;
      }
    </style>
  </head>
  <body class="bg-gray-100">
    <div id="map" class="h-screen"></div>

    <!-- Modal Structure -->
    <div id="modal" class="modal">
      <div class="modal-content">
        <h2 id="point-name" class="text-lg font-bold"></h2>
        <p id="point-address" class="mt-2"></p>
        <button
          id="navigate-button"
          class="mt-4 bg-blue-500 text-white px-4 py-2 rounded"
        >
          Navigate
        </button>
        <button
          id="close-button"
          class="mt-2 bg-gray-300 text-gray-700 px-4 py-2 rounded"
        >
          Close
        </button>
      </div>
    </div>

    <script>
      // Sample data for pinpoints
      const pinPoints = [
        {
          name: "Location A",
          address: "123 Main St, City, Country",
          lat: 40.712776,
          lng: -74.005974,
        },
        {
          name: "Location B",
          address: "456 Elm St, City, Country",
          lat: 34.052235,
          lng: -118.243683,
        },
        // Add more locations as needed
      ];

      let map;
      let modal = document.getElementById("modal");
      let pointName = document.getElementById("point-name");
      let pointAddress = document.getElementById("point-address");
      let navigateButton = document.getElementById("navigate-button");
      let closeButton = document.getElementById("close-button");

      function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
          zoom: 4,
          center: { lat: 37.774929, lng: -95.112478 },
        });

        pinPoints.forEach((point) => {
          const marker = new google.maps.Marker({
            position: { lat: point.lat, lng: point.lng },
            map: map,
            title: point.name,
          });

          marker.addListener("click", () => {
            pointName.innerText = point.name;
            pointAddress.innerText = point.address;
            modal.style.display = "flex";

            navigateButton.onclick = () => {
              const url = `https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(
                point.address
              )}`;
              window.open(url, "_blank");
            };
          });
        });
      }

      closeButton.onclick = () => {
        modal.style.display = "none";
      };

      // Initialize the map when the page loads
      window.onload = initMap;
    </script>
  </body>
</html>
